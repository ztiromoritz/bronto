<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <title>Bronto</title>
    <link rel="shortcut icon" type="image/x-icon" href="assets/favicon.png">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script src="js/phaser/phaser.js"></script>
    <script src="bower_components/jquery/dist/jquery.js"></script>
    <script src="bower_components/jquery-mobile-bower/js/jquery.mobile-1.4.5.js"></script>
    <script src="bower_components/handlebars/handlebars.js"></script>

    <script src="js/fight.js"></script>

    <meta name="apple-mobile-web-app-title" content="Bronto"/>
    <meta name="format-detection" content="telephone=no"/>
    <meta name="apple-mobile-web-app-capable" content="no"/>
    <link href="assets/favicon.png" sizes="16x16" rel="apple-touch-icon"/>
    <!--
    <link href="path/to/icon-152x152.png" sizes="152x152" rel="apple-touch-icon" />
    <link href="path/to/icon-144x144.png" sizes="144x144" rel="apple-touch-icon" />
    <link href="path/to/icon-120x120.png" sizes="120x120" rel="apple-touch-icon" />
    <link href="path/to/icon-114x114.png" sizes="114x114" rel="apple-touch-icon" />
    <link href="path/to/icon-76x76.png"   sizes="76x76"   rel="apple-touch-icon" />
    <link href="path/to/icon-72x72.png"   sizes="72x72"   rel="apple-touch-icon" />
    <link href="path/to/icon-60x60.png"   sizes="60x60"   rel="apple-touch-icon" />
    <link href="path/to/icon-57x57.png"   sizes="57x57"   rel="apple-touch-icon" />
    -->
    <meta name="viewport" content="minimal-ui">

    <script id="character-template" type="text/x-handlebars-template" src="./tpl/character.html"></script>
    <script id="fight-template" type="text/x-handlebars-template" src="./tpl/fight.html"></script>
    <script>

        var $$; //the game


        $(function () {

            function characterTest(){
                var characterSheet = Handlebars.compile($$.cache.getText("character-template"));
                var character = {
                    img: 'assets/amber.png',
                    name: 'Busarakam',
                    level: 2,
                    xp: 220,
                    health: 56,
                    current_health: 56,
                    attack: 8,
                    strength: 20,
                    speed: 16,
                    jump: 22
                };
                $('#characters').html(characterSheet(character));
            }

            function preload(){
                //Also used to load handlebar templates
                this.load.text('character-template','./tpl/character.html');
                this.load.text('fight-template','./tpl/fight.html');
            }

            function create(){
                characterTest();
                $.fight.init();
            }

            function update(){

            }



            $$ = new Phaser.Game(480, 320,
                    Phaser.AUTO,
                    'game',
                    {preload: preload, create: create, update: update},
                    false, //transparent
                    true   //antialias
            );



        });

    </script>


</head>
<body>
<div style="width: 480px; margin: 20px auto; text-align: center;">
    <h1>Bronto</h1>

    <h3>A dinosaur runner rpg</h3>

    <div class="button"><img src="assets/egg.png" alt="Pixel Egg"/>Generate Character</div>
    <div id="characters"></div>


    <div id="fight_screen" class="screen">

    </div>


    <div id="game">

    </div>
</div>
</body>

</html>
